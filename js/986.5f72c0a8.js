"use strict";(self["webpackChunkcma_adhan_pwa"]=self["webpackChunkcma_adhan_pwa"]||[]).push([[986],{2986:(e,a,t)=>{t.r(a),t.d(a,{default:()=>He});t(702);var l=t(9835),i=t(6970);const r=e=>((0,l.dD)("data-v-ac617bce"),e=e(),(0,l.Cn)(),e),o={class:"row items-center",style:{height:"18vh"}},s={class:"col-sm-4 col-12"},n={class:"col-4 text-center"},u=r((()=>(0,l._)("div",{class:"col-8 text-left q-px-md"},[(0,l._)("div",{class:"text-h5 text-weight-bold"},[(0,l.Uk)("Central Musholla"),(0,l._)("br"),(0,l.Uk)(" National Central University (NCU)"),(0,l._)("br")]),(0,l._)("div",{class:"text-subtitle1"},"Zhongli District, Taoyuan City")],-1))),m={key:0,class:"col-sm-8 col-12 full-height gt-xs"},d={class:"row items-center full-height"},c={class:"col text-left"},h={class:"col text-right gt-sm"},g={class:"text-black q-pr-md text-date"},p={class:"text-black q-pr-md text-date"},f={class:"text-black q-pr-md text-date"},v={class:"row full-height-viewport"},w={class:"col-sm-4 col-xs-12 bg-secondary full-height-viewport"},b={class:"prayer-times-container"},y={class:"prayer-name"},S={key:0,class:"lt-sm text-h4 text-lowercase"},I=r((()=>(0,l._)("br",null,null,-1))),D={class:"text-secondary text-weight-light"},x={class:"prayer-time"},j={class:"text-h3 lt-lg"},M={key:0,class:"col-sm-8 col-xs-12 bg-grey-10 text-center flex flex-center gt-xs overflow-hidden"},k={key:0},q={key:0,class:"text-h1 text-white"},z={key:1},_={key:1,class:"text-h2 text-white"},F=r((()=>(0,l._)("span",{class:"text-h2 text-white"},"m",-1))),C={key:2,class:"rotating-image overflow-hidden",style:{"max-height":"82vh"}},H={key:1},U={class:"text-h3 text-white"},V={class:"dynamic-font-size text-white text-bolder"},A=r((()=>(0,l._)("span",{class:"dynamic-font-size text-white"},":",-1))),N={class:"dynamic-font-size text-white text-bolder"},T={key:2},P={class:"text-h2 text-white q-mb-md"},O={key:0,class:"text-h3 text-white text-weight-normal"},W={class:"fixed-bottom-right q-pa-sm bg-white rounded-borders"},R=(0,l.Uk)("@ncu.muslimclub"),$=(0,l.Uk)("ncumuslimclub@gmail.com");function Z(e,a,t,r,Z,L){const E=(0,l.up)("q-img"),Q=(0,l.up)("SettingsDrawer"),Y=(0,l.up)("q-icon"),J=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(J,{class:""},{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l._)("div",s,[(0,l._)("div",{class:"row items-center full-height cursor-pointer",onClick:a[0]||(a[0]=(...a)=>e.toggleRightDrawer&&e.toggleRightDrawer(...a))},[(0,l._)("div",n,[(0,l.Wm)(E,{src:"icons/logo.png",class:"logo-image q-ml-sm"})]),u])]),e.$q.platform.is.desktop?((0,l.wg)(),(0,l.iD)("div",m,[(0,l._)("div",d,[(0,l._)("div",c,[(0,l._)("div",{class:"dynamic-font-size",style:(0,i.j5)("font-size:"+e.mainClockSize+"vh")},(0,i.zw)(e.currentTime),5)]),(0,l._)("div",h,[(0,l._)("div",g,(0,i.zw)(e.currentDay),1),(0,l._)("div",p,(0,i.zw)(e.currentDate),1),(0,l._)("div",f,(0,i.zw)(e.hijriDate),1)])])])):(0,l.kq)("",!0)]),(0,l.Wm)(Q,{modelValue:e.rightDrawerOpen,"onUpdate:modelValue":a[1]||(a[1]=a=>e.rightDrawerOpen=a),offset:e.offset,"hijri-offset":e.hijriOffset,"main-clock-size":e.mainClockSize,"prayer-time-font-size":e.prayerTimeFontSize,"prayer-name-font-size":e.prayerNameFontSize,"iqamah-config":e.iqamahConfig,messages:e.messages,images:e.images,"onUpdate:offset":e.updateOffset,"onUpdate:hijriOffset":e.updateHijriOffset,"onUpdate:mainClockSize":a[2]||(a[2]=a=>e.mainClockSize=a),"onUpdate:prayerTimeFontSize":a[3]||(a[3]=a=>e.prayerTimeFontSize=a),"onUpdate:prayerNameFontSize":a[4]||(a[4]=a=>e.prayerNameFontSize=a),onRefreshHijriData:e.refreshHijriData,"onUpdate:iqamahConfig":e.updateIqamahConfig,"onUpdate:messages":e.updateMessages,"onUpdate:images":e.updateImages},null,8,["modelValue","offset","hijri-offset","main-clock-size","prayer-time-font-size","prayer-name-font-size","iqamah-config","messages","images","onUpdate:offset","onUpdate:hijriOffset","onRefreshHijriData","onUpdate:iqamahConfig","onUpdate:messages","onUpdate:images"]),(0,l._)("div",v,[(0,l._)("div",w,[(0,l._)("div",b,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.prayerTableData,((a,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,i.C_)(["prayer-row",a.isUpcoming?"upcoming-prayer":""])},[(0,l._)("div",y,[(0,l._)("div",{class:"text-capitalize text-bold dynamic-font-size",style:(0,i.j5)("font-size:"+e.prayerNameFontSize+"vh")},[(0,l.Uk)((0,i.zw)(a.name)+" ",1),a.isUpcoming?((0,l.wg)(),(0,l.iD)("span",S,[I,(0,l._)("span",D,"In "+(0,i.zw)(e.upcomingHour)+"h : "+(0,i.zw)(e.upcomingMinute)+"m",1)])):(0,l.kq)("",!0)],4)]),(0,l._)("div",x,[(0,l._)("div",j,(0,i.zw)(a.time),1),(0,l._)("div",{class:"gt-md text-weight-regular dynamic-font-size",style:(0,i.j5)("font-size:"+e.prayerTimeFontSize+"vh")},(0,i.zw)(a.time),5)])],2)))),128))])]),e.$q.platform.is.desktop?((0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",null,["normal"===e.prayerStatus?((0,l.wg)(),(0,l.iD)("div",k,[e.showUpcomingCountdown?((0,l.wg)(),(0,l.iD)("div",q,(0,i.zw)(e.upcomingPrayer)+" in",1)):(0,l.kq)("",!0),e.showUpcomingCountdown?((0,l.wg)(),(0,l.iD)("div",z,[e.upcomingHour>0?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"text-white text-bold",style:(0,i.j5)("font-size:"+e.mainClockSize+"vh")},(0,i.zw)(String(e.upcomingHour).padStart(2,"0")),5)):(0,l.kq)("",!0),e.upcomingHour>0?((0,l.wg)(),(0,l.iD)("span",_,"h")):(0,l.kq)("",!0),(0,l._)("span",{class:"text-white text-bold",style:(0,i.j5)("font-size:"+e.mainClockSize+"vh")},(0,i.zw)(String(e.upcomingMinute).padStart(2,"0")),5),F])):(0,l.kq)("",!0),e.currentImage&&!e.showUpcomingCountdown?((0,l.wg)(),(0,l.iD)("div",C,[(0,l.Wm)(E,{src:e.currentImage,ratio:1,width:"67vw",class:"rounded-borders"},null,8,["src"])])):(0,l.kq)("",!0)])):"countdown"===e.prayerStatus?((0,l.wg)(),(0,l.iD)("div",H,[(0,l._)("div",U,(0,i.zw)(e.currentPrayerInProgress)+" Prayer - Iqamah in",1),(0,l._)("div",{style:(0,i.j5)("font-size:"+e.mainClockSize+"vh")},[(0,l._)("span",V,(0,i.zw)(String(e.countdownMinutes).padStart(2,"0")),1),A,(0,l._)("span",N,(0,i.zw)(String(e.countdownSeconds).padStart(2,"0")),1)],4)])):"in-progress"===e.prayerStatus?((0,l.wg)(),(0,l.iD)("div",T,[(0,l._)("div",P,(0,i.zw)(e.currentPrayerInProgress)+" Prayer in Progress",1)])):(0,l.kq)("",!0),(0,l._)("div",null,["normal"!==e.prayerStatus?((0,l.wg)(),(0,l.iD)("span",O,(0,i.zw)(e.currentMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",W,[(0,l._)("span",{onClick:a[5]||(a[5]=a=>e.openURL("https://www.instagram.com/ncu.muslimclub")),class:"cursor-pointer text-subtitle1"},[(0,l.Wm)(Y,{name:"fa-brands fa-instagram",class:"q-mr-xs",color:"secondary"}),R]),(0,l._)("span",{onClick:a[6]||(a[6]=a=>e.openURL("mailto:ncumuslimclub@gmail.com")),class:"cursor-pointer q-ml-md text-subtitle1"},[(0,l.Wm)(Y,{name:"mail",class:"q-mr-xs",color:"secondary"}),$])])])])):(0,l.kq)("",!0)])])),_:1})}var L=t(499);const E=JSON.parse('[[{"Fajr":"05:31","Dhuhr":"12:21","Asr":"15:51","Maghrib":"17:27","Isha":"18:57"},{"Fajr":"05:31","Dhuhr":"12:25","Asr":"15:57","Maghrib":"17:34","Isha":"19:04"},{"Fajr":"05:30","Dhuhr":"12:27","Asr":"16:01","Maghrib":"17:43","Isha":"19:13"}],[{"Fajr":"05:27","Dhuhr":"12:28","Asr":"16:04","Maghrib":"17:50","Isha":"19:20"},{"Fajr":"05:21","Dhuhr":"12:28","Asr":"16:05","Maghrib":"17:56","Isha":"19:26"},{"Fajr":"05:14","Dhuhr":"12:27","Asr":"16:06","Maghrib":"17:59","Isha":"19:29"}],[{"Fajr":"05:07","Dhuhr":"12:26","Asr":"16:07","Maghrib":"18:03","Isha":"19:33"},{"Fajr":"04:57","Dhuhr":"12:24","Asr":"16:07","Maghrib":"18:10","Isha":"19:40"},{"Fajr":"04:47","Dhuhr":"12:21","Asr":"16:07","Maghrib":"18:15","Isha":"19:45"}],[{"Fajr":"04:36","Dhuhr":"12:18","Asr":"16:06","Maghrib":"18:19","Isha":"19:49"},{"Fajr":"04:26","Dhuhr":"12:15","Asr":"16:04","Maghrib":"18:24","Isha":"19:54"},{"Fajr":"04:16","Dhuhr":"12:12","Asr":"16:05","Maghrib":"18:29","Isha":"19:59"}],[{"Fajr":"04:08","Dhuhr":"12:11","Asr":"16:07","Maghrib":"18:33","Isha":"20:03"},{"Fajr":"04:02","Dhuhr":"12:10","Asr":"16:08","Maghrib":"18:39","Isha":"20:09"},{"Fajr":"03:57","Dhuhr":"12:11","Asr":"16:10","Maghrib":"18:44","Isha":"20:14"}],[{"Fajr":"03:54","Dhuhr":"12:13","Asr":"16:13","Maghrib":"18:48","Isha":"20:18"},{"Fajr":"03:55","Dhuhr":"12:15","Asr":"16:16","Maghrib":"18:51","Isha":"20:21"},{"Fajr":"03:57","Dhuhr":"12:17","Asr":"16:17","Maghrib":"18:53","Isha":"20:23"}],[{"Fajr":"04:01","Dhuhr":"12:19","Asr":"16:19","Maghrib":"18:53","Isha":"20:23"},{"Fajr":"04:06","Dhuhr":"12:20","Asr":"16:20","Maghrib":"18:52","Isha":"20:22"},{"Fajr":"04:11","Dhuhr":"12:20","Asr":"16:20","Maghrib":"18:49","Isha":"20:19"}],[{"Fajr":"04:15","Dhuhr":"12:20","Asr":"16:18","Maghrib":"18:44","Isha":"20:14"},{"Fajr":"04:20","Dhuhr":"12:19","Asr":"16:15","Maghrib":"18:37","Isha":"20:07"},{"Fajr":"04:24","Dhuhr":"12:17","Asr":"16:10","Maghrib":"18:29","Isha":"19:59"}],[{"Fajr":"04:28","Dhuhr":"12:14","Asr":"16:05","Maghrib":"18:18","Isha":"19:48"},{"Fajr":"04:32","Dhuhr":"12:10","Asr":"16:00","Maghrib":"18:08","Isha":"19:38"},{"Fajr":"04:36","Dhuhr":"12:06","Asr":"15:54","Maghrib":"17:57","Isha":"19:27"}],[{"Fajr":"04:40","Dhuhr":"12:03","Asr":"15:49","Maghrib":"17:46","Isha":"19:16"},{"Fajr":"04:45","Dhuhr":"12:00","Asr":"15:41","Maghrib":"17:36","Isha":"19:06"},{"Fajr":"04:51","Dhuhr":"11:58","Asr":"15:38","Maghrib":"17:26","Isha":"18:56"}],[{"Fajr":"04:57","Dhuhr":"11:58","Asr":"15:36","Maghrib":"17:18","Isha":"18:48"},{"Fajr":"05:03","Dhuhr":"11:59","Asr":"15:33","Maghrib":"17:13","Isha":"18:43"},{"Fajr":"05:12","Dhuhr":"12:02","Asr":"15:34","Maghrib":"17:10","Isha":"18:40"}],[{"Fajr":"05:18","Dhuhr":"12:06","Asr":"15:37","Maghrib":"17:10","Isha":"18:40"},{"Fajr":"05:24","Dhuhr":"12:11","Asr":"15:40","Maghrib":"17:14","Isha":"18:44"},{"Fajr":"05:29","Dhuhr":"12:17","Asr":"15:46","Maghrib":"17:20","Isha":"18:50"}]]'),Q={class:"q-mx-md q-mb-lg"},Y={class:"row items-center justify-between q-mt-md"},J=(0,l._)("div",{class:"text-subtitle2"},"Simple Prayer Time",-1),B=(0,l._)("div",null,[(0,l.Uk)("Based on Chinese Muslim Association (CMA) Calculation"),(0,l._)("br"),(0,l._)("a",{class:"text-white",href:"https://thpc.taiwantrade.com/Taiwan_mosque#a2"},"Source")],-1),K=(0,l._)("div",{class:"text-h5 q-mt-md"}," Settings ",-1),G=(0,l._)("label",null,"Location",-1),X={key:0},ee={class:"q-mb-sm"},ae=(0,l._)("label",null,"Main Clock Font Size (vh)",-1),te={class:"q-mb-sm"},le=(0,l._)("label",null,"Prayer Time Font Size (vh)",-1),ie={class:"q-mb-sm"},re=(0,l._)("label",null,"Prayer Name Font Size (vh)",-1),oe=(0,l._)("label",null,"Date Adjustment (Days)",-1),se={class:"row items-center q-gutter-sm"},ne={class:"row items-center q-gutter-sm"},ue=(0,l._)("div",{class:"text-h5 q-mt-lg"}," Export ",-1),me={key:1},de=(0,l._)("div",{class:"text-subtitle1 q-mt-md"},"Contact Us",-1),ce=(0,l.Uk)("@ncu.muslimclub"),he=(0,l.Uk)("ncumuslimclub@gmail.com");function ge(e,a,t,r,o,s){const n=(0,l.up)("q-btn"),u=(0,l.up)("q-select"),m=(0,l.up)("q-expansion-item"),d=(0,l.up)("q-input"),c=(0,l.up)("q-img"),h=(0,l.up)("q-icon"),g=(0,l.up)("q-drawer");return(0,l.wg)(),(0,l.j4)(g,{modelValue:e.isOpen,"onUpdate:modelValue":a[13]||(a[13]=a=>e.isOpen=a),side:"right",overlay:"",class:"bg-secondary text-white"},{default:(0,l.w5)((()=>[(0,l._)("div",Q,[(0,l._)("div",Y,[J,(0,l.Wm)(n,{flat:"",round:"",icon:"close",color:"white",onClick:e.closeDrawer,class:"q-ml-auto"},null,8,["onClick"])]),B,K,(0,l.Wm)(m,{modelValue:e.expandedSections.location,"onUpdate:modelValue":a[1]||(a[1]=a=>e.expandedSections.location=a),class:"text-white","header-class":"text-h5",label:"Location","default-opened":""},{default:(0,l.w5)((()=>[G,(0,l.Wm)(u,{dense:"",filled:"","bg-color":"white","emit-value":"","map-options":"",modelValue:e.localOffset,"onUpdate:modelValue":[a[0]||(a[0]=a=>e.localOffset=a),e.updateOffset],"label-color":"white",options:e.locationList},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1},8,["modelValue"]),e.$q.platform.is.desktop?((0,l.wg)(),(0,l.iD)("div",X,[(0,l.Wm)(m,{modelValue:e.expandedSections.font_setting,"onUpdate:modelValue":a[5]||(a[5]=a=>e.expandedSections.font_setting=a),class:"text-white","header-class":"text-h5",label:"Font Size Setting","default-opened":""},{default:(0,l.w5)((()=>[(0,l._)("div",ee,[ae,(0,l.Wm)(d,{dense:"",filled:"","bg-color":"white",modelValue:e.localMainClockSize,"onUpdate:modelValue":a[2]||(a[2]=a=>e.localMainClockSize=a),modelModifiers:{number:!0},"label-color":"white",type:"number",hint:"Main clock font size in vh"},null,8,["modelValue"])]),(0,l._)("div",te,[le,(0,l.Wm)(d,{dense:"",filled:"","bg-color":"white",modelValue:e.localPrayerTimeFontSize,"onUpdate:modelValue":a[3]||(a[3]=a=>e.localPrayerTimeFontSize=a),modelModifiers:{number:!0},"label-color":"white",type:"number",hint:"Prayer time font size in vh"},null,8,["modelValue"])]),(0,l._)("div",ie,[re,(0,l.Wm)(d,{dense:"",filled:"","bg-color":"white",modelValue:e.localPrayerNameFontSize,"onUpdate:modelValue":a[4]||(a[4]=a=>e.localPrayerNameFontSize=a),modelModifiers:{number:!0},"label-color":"white",type:"number",hint:"Prayer name font size in vh"},null,8,["modelValue"])])])),_:1},8,["modelValue"]),(0,l.Wm)(m,{modelValue:e.expandedSections.hijri,"onUpdate:modelValue":a[7]||(a[7]=a=>e.expandedSections.hijri=a),class:"text-white","header-class":"text-h5",label:"Hijri Date","default-opened":""},{default:(0,l.w5)((()=>[oe,(0,l.Wm)(d,{dense:"",filled:"","bg-color":"white",modelValue:e.localHijriOffset,"onUpdate:modelValue":[a[6]||(a[6]=a=>e.localHijriOffset=a),e.updateHijriOffset],modelModifiers:{number:!0},"label-color":"white",type:"number",hint:"Adjust Hijri date (+/- days)"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(n,{onClick:e.refreshHijriData,color:"white","text-color":"secondary",icon:"refresh",label:"Refresh Date Data",class:"full-width q-mt-sm"},null,8,["onClick"])])),_:1},8,["modelValue"]),(0,l.Wm)(m,{modelValue:e.expandedSections.iqamah,"onUpdate:modelValue":a[8]||(a[8]=a=>e.expandedSections.iqamah=a),class:"text-white","header-class":"text-h5",label:"Iqamah Countdown (minutes)","default-opened":""},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(["Fajr","Dhuhr","Asr","Maghrib","Isha"],(a=>(0,l._)("div",{key:a,class:"q-mb-sm"},[(0,l._)("label",null,(0,i.zw)(a),1),(0,l.Wm)(d,{dense:"",filled:"","bg-color":"white","label-color":"white",type:"number",min:"0",max:"60",modelValue:e.localIqamahConfig[a],"onUpdate:modelValue":[t=>e.localIqamahConfig[a]=t,e.updateIqamahConfig],modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]))),64))])),_:1},8,["modelValue"]),(0,l.Wm)(m,{modelValue:e.expandedSections.messages,"onUpdate:modelValue":a[9]||(a[9]=a=>e.expandedSections.messages=a),class:"text-white","header-class":"text-h5",label:"Reminder Messages (Minutes)","default-opened":""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.localMessages,((a,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"q-mb-sm"},[(0,l._)("div",se,[(0,l.Wm)(d,{dense:"",filled:"","bg-color":"white","label-color":"white",class:"col",modelValue:a.text,"onUpdate:modelValue":[e=>a.text=e,e.updateMessages]},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(d,{dense:"",filled:"","bg-color":"white","label-color":"white",class:"col-3",type:"number",modelValue:a.duration,"onUpdate:modelValue":[e=>a.duration=e,e.updateMessages],modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(n,{flat:"",round:"",dense:"",icon:"delete",color:"white",onClick:a=>e.removeMessage(t)},null,8,["onClick"])])])))),128)),(0,l.Wm)(n,{flat:"",icon:"add",label:"Add Message",class:"full-width q-mt-sm",onClick:e.addMessage},null,8,["onClick"])])),_:1},8,["modelValue"]),(0,l.Wm)(m,{modelValue:e.expandedSections.images,"onUpdate:modelValue":a[10]||(a[10]=a=>e.expandedSections.images=a),class:"text-white","header-class":"text-h5",label:"Rotating Images (Minutes)","default-opened":""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.localImages,((a,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"q-mb-sm"},[(0,l._)("div",ne,[(0,l.Wm)(d,{dense:"",filled:"","bg-color":"white","label-color":"white",class:"col",modelValue:a.url,"onUpdate:modelValue":[e=>a.url=e,e.updateImages],placeholder:"Image URL or path"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(d,{dense:"",filled:"","bg-color":"white","label-color":"white",class:"col-3",type:"number",min:"1",modelValue:a.duration,"onUpdate:modelValue":[e=>a.duration=e,e.updateImages],modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(n,{flat:"",round:"",dense:"",icon:"delete",color:"white",onClick:a=>e.removeImage(t)},null,8,["onClick"])]),(0,l.Wm)(c,{src:a.url,ratio:1,class:"q-mt-xs",style:{"max-width":"200px"},onError:a=>e.handleImageError(t)},null,8,["src","onError"])])))),128)),(0,l.Wm)(n,{flat:"",icon:"add",label:"Add Image",class:"full-width q-mt-sm",onClick:e.addImage},null,8,["onClick"])])),_:1},8,["modelValue"])])):(0,l.kq)("",!0),ue,(0,l.Wm)(n,{onClick:e.exportDailyCSV,color:"white","text-color":"secondary",icon:"download",label:"Export Daily Timetable CSV",class:"full-width q-mt-sm"},null,8,["onClick"]),e.$q.platform.is.mobile?((0,l.wg)(),(0,l.iD)("div",me,[de,(0,l._)("div",{onClick:a[11]||(a[11]=a=>e.openURL("https://www.instagram.com/ncu.muslimclub")),class:"cursor-pointer text-subtitle1"},[(0,l.Wm)(h,{name:"fa-brands fa-instagram",class:"q-mr-xs",color:"white"}),ce]),(0,l._)("div",{onClick:a[12]||(a[12]=a=>e.openURL("mailto:ncumuslimclub@gmail.com")),class:"cursor-pointer text-subtitle1"},[(0,l.Wm)(h,{name:"mail",class:"q-mr-xs",color:"white"}),he])])):(0,l.kq)("",!0)])])),_:1},8,["modelValue"])}t(4641),t(3269);const pe=(0,l.aZ)({name:"SettingsDrawer",props:{modelValue:{type:Boolean,default:!1},offset:{type:Number,default:2},hijriOffset:{type:Number,default:0},mainClockSize:{type:Number,default:15},prayerTimeFontSize:{type:Number,default:8},prayerNameFontSize:{type:Number,default:5},iqamahConfig:{type:Object,default:()=>({Fajr:10,Dhuhr:10,Asr:10,Maghrib:10,Isha:10})},messages:{type:Array,default:()=>[{text:"Please keep your phone silent during prayer!",duration:10}]},images:{type:Array,default:()=>[{url:"/icons/NCU_logo_crop.png",duration:10}]}},emits:["update:modelValue","update:offset","update:hijri-offset","update:main-clock-size","update:prayer-time-font-size","update:prayer-name-font-size","refresh-hijri-data","update:iqamah-config","update:messages","update:images"],setup(e,{emit:a}){const t=[{label:"Taipei",value:0},{label:"Taoyuan, Yanmai",value:2},{label:"Hsinchu, Taichung, Changhua",value:3},{label:"Chiayi, Tainan, Kaoshiung, Pingtung",value:5}],i=(0,l.Fl)({get(){return e.modelValue},set(e){a("update:modelValue",e)}}),r=(0,l.Fl)({get(){return e.offset},set(e){a("update:offset",e)}}),o=(0,l.Fl)({get(){return e.hijriOffset},set(e){a("update:hijri-offset",e)}}),s=(0,l.Fl)({get(){return e.mainClockSize},set(e){localStorage.setItem("mainClockSize",e),a("update:main-clock-size",e)}}),n=(0,l.Fl)({get(){return e.prayerTimeFontSize},set(e){localStorage.setItem("prayerTimeFontSize",e),a("update:prayer-time-font-size",e)}}),u=(0,l.Fl)({get(){return e.prayerNameFontSize},set(e){localStorage.setItem("prayerNameFontSize",e),a("update:prayer-name-font-size",e)}}),m=(0,L.iH)({location:!1,hijri:!1,iqamah:!1,messages:!1,images:!1,font_setting:!1}),d=()=>{m.value.location=!1,m.value.hijri=!1,m.value.iqamah=!1,m.value.messages=!1,m.value.images=!1,m.value.font_setting=!1,a("update:modelValue",!1)},c=e=>{a("update:offset",e)},h=e=>{a("update:hijri-offset",e)},g=()=>{localStorage.removeItem("hijriDateCache"),localStorage.removeItem("hijriDateLastUpdate"),a("refresh-hijri-data")},p=e=>e<11?0:e<21?1:2,f=e=>{const[a,t]=e.split(":").map(Number);let l=60*a+t+70;l>=1440&&(l-=1440);const i=Math.floor(l/60),r=l%60;return`${String(i).padStart(2,"0")}:${String(r).padStart(2,"0")}`},v=(e,a)=>{const[t,l]=e.split(":").map(Number);let i=60*t+l+parseInt(a);i>=1440&&(i-=1440),i<0&&(i+=1440);const r=Math.floor(i/60),o=i%60;return`${String(r).padStart(2,"0")}:${String(o).padStart(2,"0")}`},w=e=>e%4===0&&e%100!==0||e%400===0,b=(e,a)=>{const t=[31,28,31,30,31,30,31,31,30,31,30,31];return 1===e&&w(a)?29:t[e]},y=(e,a)=>{const t=e.getMonth(),l=e.getDate(),i=p(l),r=E[t]||[],o=r[i]||{},s={},n=["Fajr","Dhuhr","Asr","Maghrib","Isha"];return n.forEach((e=>{const t=o[e]||"00:00";s[e]=v(t,a)})),s},S=e=>{const a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${a}-${t}-${l}`},I=()=>{const a=(new Date).getFullYear(),t=[];t.push("DATE,FAJR,SUNRISE,DHUHR,ASR,MAGHRIB,ISHA");for(let o=0;o<12;o++){const l=b(o,a);for(let i=1;i<=l;i++){const l=new Date(a,o,i),r=y(l,e.offset),s=f(r.Fajr),n=[S(l),r.Fajr,s,r.Dhuhr,r.Asr,r.Maghrib,r.Isha].join(",");t.push(n)}}const l=t.join("\n"),i=new Blob([l],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){const e=URL.createObjectURL(i);r.setAttribute("href",e),r.setAttribute("download",`daily_prayer_timetable_${a}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},D=(0,L.iH)({...e.iqamahConfig});function x(){a("update:iqamah-config",{...D.value})}(0,l.YP)((()=>e.iqamahConfig),(e=>{D.value={...e}})),(0,l.YP)((()=>i.value),(e=>{e&&(m.value.location=!1,m.value.hijri=!1,m.value.iqamah=!1,m.value.messages=!1,m.value.images=!1,m.value.font_setting=!1)}));const j=(0,L.iH)([...e.messages]),M=()=>{j.value.push({text:"",duration:10}),q()},k=e=>{j.value.splice(e,1),0===j.value.length&&j.value.push({text:"Please keep your phone silent during prayer!",duration:10}),q()},q=()=>{a("update:messages",[...j.value])};(0,l.YP)((()=>e.messages),(e=>{j.value=[...e]}));const z=(0,L.iH)([...e.images]),_=()=>{z.value.push({url:"",duration:10}),H()},F=e=>{z.value.splice(e,1),0===z.value.length&&z.value.push({url:"/quotes.jpeg",duration:2}),H()},C=e=>{console.error(`Failed to load image at index ${e}:`,z.value[e].url)},H=()=>{a("update:images",[...z.value])};return(0,l.YP)((()=>e.images),(e=>{z.value=[...e]})),{locationList:t,isOpen:i,localOffset:r,localHijriOffset:o,localIqamahConfig:D,localMessages:j,localImages:z,expandedSections:m,localPrayerNameFontSize:u,localPrayerTimeFontSize:n,localMainClockSize:s,closeDrawer:d,updateOffset:c,updateHijriOffset:h,refreshHijriData:g,exportDailyCSV:I,updateIqamahConfig:x,addMessage:M,removeMessage:k,updateMessages:q,addImage:_,removeImage:F,handleImageError:C,updateImages:H}}});var fe=t(1639),ve=t(3655),we=t(9379),be=t(9542),ye=t(2396),Se=t(6611),Ie=t(335),De=t(2857),xe=t(9984),je=t.n(xe);const Me=(0,fe.Z)(pe,[["render",ge]]),ke=Me;je()(pe,"components",{QDrawer:ve.Z,QBtn:we.Z,QExpansionItem:be.Z,QSelect:ye.Z,QInput:Se.Z,QImg:Ie.Z,QIcon:De.Z});var qe=t(3752);const ze=(0,l.aZ)({name:"IndexPage",components:{SettingsDrawer:ke},props:["offset"],setup(e,{emit:a}){var t,i;const r=(0,L.iH)(!1),o=(0,L.iH)(""),s=(0,L.iH)(""),n=(0,L.iH)(""),u=(0,L.iH)(""),m=(0,L.iH)(0),d=(0,L.iH)("normal"),c=(0,L.iH)(0),h=(0,L.iH)(0),g=(0,L.iH)(""),p=(0,L.iH)(localStorage.getItem("mainClockSize")||15),f=(0,L.iH)(localStorage.getItem("prayerTimeFontSize")||8),v=(0,L.iH)(localStorage.getItem("prayerNameFontSize")||5),w=(0,L.qj)({Fajr:"00:00",Sunrise:"00:00",Dhuhr:"00:00",Asr:"00:00",Maghrib:"00:00",Isha:"00:00"}),b=(0,L.iH)(["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"]),y=(0,L.iH)([{name:"prayer",label:"Prayer",field:"name",align:"left"},{name:"time",label:"Time",field:"time",align:"right"}]),S=(0,L.iH)(0),I=(0,L.iH)(0),D=(0,L.iH)(null),x=(0,L.iH)(0),j=(0,L.iH)(0),M=(0,L.iH)(0),k=(0,L.iH)(0),q=(0,L.iH)(0),z=(0,L.iH)(1),_=(0,L.iH)(0),F=(0,L.iH)(!0),C=(0,L.iH)(JSON.parse(localStorage.getItem("iqamahConfig")||'{"Fajr":10,"Dhuhr":10,"Asr":10,"Maghrib":10,"Isha":10}')),H=(0,L.iH)(JSON.parse(localStorage.getItem("messages")||'[{"text":"Please keep your phone silent during prayer!","duration":10}]')),U=(0,L.iH)(JSON.parse(localStorage.getItem("images")||'[{"url":"/icons/logo.png","duration":10}]')),V=(0,L.iH)((null===(t=H.value[0])||void 0===t?void 0:t.text)||""),A=(0,L.iH)((null===(i=U.value[0])||void 0===i?void 0:i.url)||""),N=(0,L.iH)(!1);let T=null,P=null,O=0,W=0;const R=()=>{if(0===H.value.length)return;V.value=H.value[O].text;const e=1e3*H.value[O].duration*60;T&&clearTimeout(T),T=setTimeout((()=>{O=(O+1)%H.value.length,R()}),e)},$=()=>{if(0===U.value.length)return;A.value=U.value[W].url;const e=1e3*U.value[W].duration*60;P&&clearTimeout(P),P=setTimeout((()=>{N.value||(W=(W+1)%U.value.length),0==W&&(N.value=!N.value),$()}),e)},Z=(0,l.Fl)((()=>b.value.map((e=>({name:e,time:w[e]||"00:00",isUpcoming:D.value===e})))));let Q=null;(0,l.bv)((()=>{const e=new Date;S.value=e.getHours(),I.value=e.getMinutes(),k.value=e.getMonth(),q.value=e.getDate(),z.value=Y(q.value),R(),$(),oe(),Q=setInterval(oe,1e3),"Notification"in window&&"granted"!==Notification.permission&&"denied"!==Notification.permission&&(F.value=!1)})),(0,l.Ah)((()=>{Q&&clearInterval(Q),T&&clearTimeout(T),P&&clearTimeout(P)}));const Y=e=>e<11?0:e<21?1:2,J=()=>{var a=e.offset,t=E[k.value]||[],l=t[z.value]||{},i=["Fajr","Dhuhr","Asr","Maghrib","Isha"],r=!0,o=!1;for(var s in i){let e=i[s];var n=l[e]||"00:00",u=n.split(":"),m=parseInt(u[1]),d=parseInt(u[0]),c=60*d+m+parseInt(a);d=Math.floor(c/60),m=c-60*d,60*d+m>60*S.value+I.value&&!1===o&&(r=!1,o=!0,D.value=e,x.value=_.value+(60*d+m)-(60*S.value+I.value),M.value=Math.floor(x.value/60),j.value=x.value-60*M.value),w[e]=String(d).padStart(2,"0")+":"+String(m).padStart(2,"0")}var h=w["Fajr"],g=h.split(":"),p=parseInt(g[0]),f=parseInt(g[1]),v=60*p+f+70,b=Math.floor(v/60),y=v-60*b;if(b>=24&&(b-=24),w["Sunrise"]=String(b).padStart(2,"0")+":"+String(y).padStart(2,"0"),60*b+y>60*S.value+I.value&&!1===o&&(r=!1,o=!0,D.value="Sunrise",x.value=_.value+(60*b+y)-(60*S.value+I.value),M.value=Math.floor(x.value/60),j.value=x.value-60*M.value),!1===o&&r){let e="Fajr";n=l[e]||"00:00",u=n.split(":"),m=parseInt(u[1]),d=parseInt(u[0]),c=60*d+m+parseInt(a);d=Math.floor(c/60),m=c-60*d,_.value=1440-(60*S.value+I.value),D.value="Fajr",x.value=_.value+(60*d+m),M.value=Math.floor(x.value/60),j.value=x.value-60*M.value}},B=()=>{if("normal"!==d.value)return;const e=new Date,a=e.getHours(),t=e.getMinutes(),l=60*a+t;for(const[i,r]of Object.entries(w))if(r&&"00:00"!==r){const[e,a]=r.split(":").map(Number),t=60*e+a;if(Math.abs(l-t)<=1)return void K(i)}},K=(e,a)=>{"Sunrise"!==e&&(console.log(`Setting up Iqamah countdown for ${e}`),console.log("Current iqamahConfig:",C.value),d.value="countdown",c.value=a||C.value[e]||10,h.value=0,g.value=e,console.log(`Countdown started: ${c.value}:${h.value}`))},G=e=>{d.value="in-progress",g.value=e,setTimeout((()=>{X()}),9e5)},X=()=>{d.value="normal",g.value=""},ee=e=>{C.value={...e},localStorage.setItem("iqamahConfig",JSON.stringify(C.value))},ae=e=>{H.value=[...e],localStorage.setItem("messages",JSON.stringify(H.value)),O=0,R()},te=e=>{U.value=[...e],localStorage.setItem("images",JSON.stringify(U.value)),W=0,$()},le=()=>{if("Notification"in window)if("granted"===Notification.permission)new Notification("Notification already granted");else"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){if("granted"===e)new Notification("Notification Activated!")}));else alert("This browser does not support notification")};(0,l.YP)((()=>e.offset),((e,a)=>{e!==a&&(localStorage.setItem("offset",e),J())}));const ie=()=>{try{const e=localStorage.getItem("hijriOffset");m.value=e?parseInt(e):0}catch(e){console.log("Error loading Hijri offset:",e),m.value=0}},re=e=>{const a=new Date(622,6,16),t=e-a;let l=Math.floor(t/864e5);l+=m.value;const i=Math.floor(l/354.37)+1,r=l-354.37*(i-1);let o=Math.floor(r/29.5)+1,s=Math.floor(r%29.5)+1;o<1?o=12:o>12&&(o=1),s<1?s=30:s>30&&(s=1);const n=["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'ban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"];return`${Math.floor(s)} ${n[Math.floor(o)-1]} ${Math.floor(i)}H`},oe=()=>{const e=new Date;S.value=e.getHours(),I.value=e.getMinutes();const a=String(S.value).padStart(2,"0"),t=String(I.value).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0");o.value=`${a}:${t}:${l}`;const i={year:"numeric",month:"long",day:"numeric"};n.value=e.toLocaleDateString("en-US",i),s.value=e.toLocaleDateString("en-US",{weekday:"long"}),u.value=re(e),J(),"normal"===d.value&&de(),ce()},se=()=>{r.value=!r.value},ne=e=>{a("update:offset",e)},ue=e=>{m.value=e,localStorage.setItem("hijriOffset",e),oe()},me=()=>{localStorage.removeItem("hijriDateCache"),localStorage.removeItem("hijriDateLastUpdate"),oe()},de=()=>{if("normal"!==d.value)return void console.log("Prayer status is not normal:",d.value);const e=60*S.value+I.value;for(const a of b.value){if("Sunrise"===a)continue;const t=w[a],l=C.value[a];if(t&&"00:00"!==t){const[i,r]=t.split(":").map(Number),o=60*i+r;if(e>=o&&o+l-e>=0)return void K(a,o+l-e)}else console.log(`${a}: Invalid time format (${t})`)}},ce=()=>{"countdown"===d.value?h.value>0?h.value--:c.value>0?(c.value--,h.value=59):G(g.value):"in-progress"===d.value&&setTimeout((()=>{X()}),9e5)};return ie(),{rightDrawerOpen:r,currentTime:o,currentDay:s,currentDate:n,hijriDate:u,hijriOffset:m,prayerStatus:d,currentImage:A,images:U,countdownMinutes:c,countdownSeconds:h,currentPrayerInProgress:g,currentPrayerTime:w,prayerNames:b,prayerColumns:y,currentHour:S,currentMinute:I,upcomingPrayer:D,upcomingMinutes:x,upcomingMinute:j,upcomingHour:M,month:k,date:q,dateCluster:z,extraMinutes:_,notifEnabled:F,iqamahConfig:C,prayerTableData:Z,mainClockSize:p,prayerTimeFontSize:f,prayerNameFontSize:v,showUpcomingCountdown:N,updateTime:oe,toggleRightDrawer:se,updateOffset:ne,updateHijriOffset:ue,refreshHijriData:me,clusterSet:Y,updateDailyTime:J,checkPrayerTimeMatch:B,startCountdownToIqamah:K,startPrayerInProgress:G,returnToNormal:X,updateIqamahConfig:ee,requestNotif:le,messages:H,currentMessage:V,updateMessages:ae,updateImages:te,openURL:qe.Z}}});var _e=t(9885),Fe=t(627);const Ce=(0,fe.Z)(ze,[["render",Z],["__scopeId","data-v-ac617bce"]]),He=Ce;je()(ze,"components",{QPage:_e.Z,QImg:Ie.Z,QIcon:De.Z,QPageSticky:Fe.Z,QBtn:we.Z})}}]);