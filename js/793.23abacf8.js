"use strict";(self["webpackChunkcma_adhan_pwa"]=self["webpackChunkcma_adhan_pwa"]||[]).push([[793],{793:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Fe});t(702);var l=t(9835),r=t(6970);const i=e=>((0,l.dD)("data-v-1be387d8"),e=e(),(0,l.Cn)(),e),o={class:"row items-center",style:{height:"18vh"}},s={class:"col-sm-4 col-12"},n={class:"col-4 text-center"},u=i((()=>(0,l._)("div",{class:"col-8 text-left q-px-md"},[(0,l._)("div",{class:"text-h5 text-weight-bold"},[(0,l.Uk)("Central Musholla"),(0,l._)("br"),(0,l.Uk)(" National Central University (NCU)"),(0,l._)("br")]),(0,l._)("div",{class:"text-subtitle1"},"Zhongli District, Taoyuan City")],-1))),c={key:0,class:"col-sm-8 col-12 full-height gt-xs"},m={class:"row items-center full-height"},d={class:"col text-left"},h={class:"col text-right gt-sm"},g={class:"text-black q-pr-md text-date"},p={class:"text-black q-pr-md text-date"},v={class:"text-black q-pr-md text-date"},f={class:"row full-height-viewport"},S={class:"col-sm-4 col-xs-12 bg-secondary full-height-viewport"},b={class:"prayer-times-container"},w={class:"prayer-name"},y={key:0,class:"lt-sm text-h4 text-lowercase"},I=i((()=>(0,l._)("br",null,null,-1))),D={class:"text-secondary text-weight-light"},x={class:"prayer-time"},j={class:"text-h3 lt-lg"},M={key:0,class:"col-sm-8 col-xs-12 bg-grey-10 text-center flex flex-center gt-xs overflow-hidden"},k={class:"text-h1 text-white"},q={key:1,class:"text-h2 text-white"},z=i((()=>(0,l._)("span",{class:"text-h2 text-white"},"m",-1))),_={key:1},F={class:"text-h3 text-white"},C={class:"dynamic-font-size text-white text-bolder"},H=i((()=>(0,l._)("span",{class:"dynamic-font-size text-white"},":",-1))),U={class:"dynamic-font-size text-white text-bolder"},V={key:2},A={class:"text-h2 text-white q-mb-md"},N={key:0,class:"text-h2 text-white text-weight-normal"},P={class:"fixed-bottom-right q-pa-sm bg-white rounded-borders"},T=(0,l.Uk)("@ncu.muslimclub"),O=(0,l.Uk)("ncumuslimclub@gmail.com");function W(e,a,t,i,W,R){const $=(0,l.up)("q-img"),E=(0,l.up)("SettingsDrawer"),Z=(0,l.up)("q-icon"),L=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(L,{class:""},{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l._)("div",s,[(0,l._)("div",{class:"row items-center full-height cursor-pointer",onClick:a[0]||(a[0]=(...a)=>e.toggleRightDrawer&&e.toggleRightDrawer(...a))},[(0,l._)("div",n,[(0,l.Wm)($,{src:"icons/logo.png",class:"logo-image q-ml-sm"})]),u])]),e.$q.platform.is.desktop?((0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",m,[(0,l._)("div",d,[(0,l._)("div",{class:"dynamic-font-size",style:(0,r.j5)("font-size:"+e.mainClockSize+"vh")},(0,r.zw)(e.currentTime),5)]),(0,l._)("div",h,[(0,l._)("div",g,(0,r.zw)(e.currentDay),1),(0,l._)("div",p,(0,r.zw)(e.currentDate),1),(0,l._)("div",v,(0,r.zw)(e.hijriDate),1)])])])):(0,l.kq)("",!0)]),(0,l.Wm)(E,{modelValue:e.rightDrawerOpen,"onUpdate:modelValue":a[1]||(a[1]=a=>e.rightDrawerOpen=a),offset:e.offset,"hijri-offset":e.hijriOffset,"main-clock-size":e.mainClockSize,"prayer-time-font-size":e.prayerTimeFontSize,"prayer-name-font-size":e.prayerNameFontSize,"iqamah-config":e.iqamahConfig,messages:e.messages,images:e.images,"onUpdate:offset":e.updateOffset,"onUpdate:hijriOffset":e.updateHijriOffset,"onUpdate:mainClockSize":a[2]||(a[2]=a=>e.mainClockSize=a),"onUpdate:prayerTimeFontSize":a[3]||(a[3]=a=>e.prayerTimeFontSize=a),"onUpdate:prayerNameFontSize":a[4]||(a[4]=a=>e.prayerNameFontSize=a),onRefreshHijriData:e.refreshHijriData,"onUpdate:iqamahConfig":e.updateIqamahConfig,"onUpdate:messages":e.updateMessages,"onUpdate:images":e.updateImages,"onUpdate:enableScreenSaver":e.updateEnableScreenSaver},null,8,["modelValue","offset","hijri-offset","main-clock-size","prayer-time-font-size","prayer-name-font-size","iqamah-config","messages","images","onUpdate:offset","onUpdate:hijriOffset","onRefreshHijriData","onUpdate:iqamahConfig","onUpdate:messages","onUpdate:images","onUpdate:enableScreenSaver"]),(0,l._)("div",f,[(0,l._)("div",S,[(0,l._)("div",b,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.prayerTableData,((a,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,r.C_)(["prayer-row",a.isUpcoming?"upcoming-prayer":""])},[(0,l._)("div",w,[(0,l._)("div",{class:"text-capitalize text-bold dynamic-font-size",style:(0,r.j5)("font-size:"+e.prayerNameFontSize+"vh")},[(0,l.Uk)((0,r.zw)(a.name)+" ",1),a.isUpcoming?((0,l.wg)(),(0,l.iD)("span",y,[I,(0,l._)("span",D,"In "+(0,r.zw)(e.upcomingHour)+"h : "+(0,r.zw)(e.upcomingMinute)+"m",1)])):(0,l.kq)("",!0)],4)]),(0,l._)("div",x,[(0,l._)("div",j,(0,r.zw)(a.time),1),(0,l._)("div",{class:"gt-md text-weight-regular dynamic-font-size",style:(0,r.j5)("font-size:"+e.prayerTimeFontSize+"vh")},(0,r.zw)(a.time),5)])],2)))),128))])]),e.$q.platform.is.desktop?((0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",null,["normal"===e.prayerStatus?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,r.C_)(e.longBreak?"fixed-full bg-black":""),style:{"z-index":"99"},onClick:a[5]||(a[5]=(...a)=>e.toggleRightDrawer&&e.toggleRightDrawer(...a))},[e.showUpcomingCountdown?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"text-center full-width full-height",style:(0,r.j5)(e.longBreak?"margin-top:"+10*(e.upcomingMinute%3+1)+"vh":"")},[e.longBreak?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"text-white",style:(0,r.j5)("font-size:"+e.mainClockSize+"vh")},(0,r.zw)(e.currentTime),5)):(0,l.kq)("",!0),(0,l._)("div",k,(0,r.zw)(e.upcomingPrayer)+" "+(0,r.zw)(e.currentPrayerTime[e.upcomingPrayer]),1),(0,l._)("div",null,[e.upcomingHour>0?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"text-white text-bold",style:(0,r.j5)("font-size:"+e.mainClockSize+"vh")},(0,r.zw)(String(e.upcomingHour).padStart(2,"0")),5)):(0,l.kq)("",!0),e.upcomingHour>0?((0,l.wg)(),(0,l.iD)("span",q,"h")):(0,l.kq)("",!0),(0,l._)("span",{class:"text-white text-bold",style:(0,r.j5)("font-size:"+e.mainClockSize+"vh")},(0,r.zw)(String(e.upcomingMinute).padStart(2,"0")),5),z])],4)):(0,l.kq)("",!0),e.currentImage&&!e.showUpcomingCountdown?((0,l.wg)(),(0,l.iD)("div",{key:1,class:"rotating-image overflow-hidden",style:(0,r.j5)(e.longBreak?"height: 100vh;width: 100vw;":"height: 82vh;width: 67vw;")},[(0,l.Wm)($,{src:e.currentImage,ratio:1,class:"rounded-borders full-height",fit:"contain"},null,8,["src"])],4)):(0,l.kq)("",!0)],2)):"countdown"===e.prayerStatus?((0,l.wg)(),(0,l.iD)("div",_,[(0,l._)("div",F,(0,r.zw)(e.currentPrayerInProgress)+" Prayer - Iqamah in",1),(0,l._)("div",{style:(0,r.j5)("font-size:"+e.mainClockSize+"vh")},[(0,l._)("span",C,(0,r.zw)(String(e.countdownMinutes).padStart(2,"0")),1),H,(0,l._)("span",U,(0,r.zw)(String(e.countdownSeconds).padStart(2,"0")),1)],4)])):"in-progress"===e.prayerStatus?((0,l.wg)(),(0,l.iD)("div",V,[(0,l._)("div",A,(0,r.zw)(e.currentPrayerInProgress)+" Prayer in Progress",1)])):(0,l.kq)("",!0),(0,l._)("div",null,["normal"!==e.prayerStatus?((0,l.wg)(),(0,l.iD)("span",N,(0,r.zw)(e.currentMessage),1)):(0,l.kq)("",!0)]),(0,l._)("div",P,[(0,l._)("span",{onClick:a[6]||(a[6]=a=>e.openURL("https://www.instagram.com/ncu.muslimclub")),class:"cursor-pointer text-subtitle1"},[(0,l.Wm)(Z,{name:"fa-brands fa-instagram",class:"q-mr-xs",color:"secondary"}),T]),(0,l._)("span",{onClick:a[7]||(a[7]=a=>e.openURL("mailto:ncumuslimclub@gmail.com")),class:"cursor-pointer q-ml-md text-subtitle1"},[(0,l.Wm)(Z,{name:"mail",class:"q-mr-xs",color:"secondary"}),O])])])])):(0,l.kq)("",!0)])])),_:1})}var R=t(499);const $=JSON.parse('[[{"Fajr":"05:31","Dhuhr":"12:21","Asr":"15:51","Maghrib":"17:27","Isha":"18:57"},{"Fajr":"05:31","Dhuhr":"12:25","Asr":"15:57","Maghrib":"17:34","Isha":"19:04"},{"Fajr":"05:30","Dhuhr":"12:27","Asr":"16:01","Maghrib":"17:43","Isha":"19:13"}],[{"Fajr":"05:27","Dhuhr":"12:28","Asr":"16:04","Maghrib":"17:50","Isha":"19:20"},{"Fajr":"05:21","Dhuhr":"12:28","Asr":"16:05","Maghrib":"17:56","Isha":"19:26"},{"Fajr":"05:14","Dhuhr":"12:27","Asr":"16:06","Maghrib":"17:59","Isha":"19:29"}],[{"Fajr":"05:07","Dhuhr":"12:26","Asr":"16:07","Maghrib":"18:03","Isha":"19:33"},{"Fajr":"04:57","Dhuhr":"12:24","Asr":"16:07","Maghrib":"18:10","Isha":"19:40"},{"Fajr":"04:47","Dhuhr":"12:21","Asr":"16:07","Maghrib":"18:15","Isha":"19:45"}],[{"Fajr":"04:36","Dhuhr":"12:18","Asr":"16:06","Maghrib":"18:19","Isha":"19:49"},{"Fajr":"04:26","Dhuhr":"12:15","Asr":"16:04","Maghrib":"18:24","Isha":"19:54"},{"Fajr":"04:16","Dhuhr":"12:12","Asr":"16:05","Maghrib":"18:29","Isha":"19:59"}],[{"Fajr":"04:08","Dhuhr":"12:11","Asr":"16:07","Maghrib":"18:33","Isha":"20:03"},{"Fajr":"04:02","Dhuhr":"12:10","Asr":"16:08","Maghrib":"18:39","Isha":"20:09"},{"Fajr":"03:57","Dhuhr":"12:11","Asr":"16:10","Maghrib":"18:44","Isha":"20:14"}],[{"Fajr":"03:54","Dhuhr":"12:13","Asr":"16:13","Maghrib":"18:48","Isha":"20:18"},{"Fajr":"03:55","Dhuhr":"12:15","Asr":"16:16","Maghrib":"18:51","Isha":"20:21"},{"Fajr":"03:57","Dhuhr":"12:17","Asr":"16:17","Maghrib":"18:53","Isha":"20:23"}],[{"Fajr":"04:01","Dhuhr":"12:19","Asr":"16:19","Maghrib":"18:53","Isha":"20:23"},{"Fajr":"04:06","Dhuhr":"12:20","Asr":"16:20","Maghrib":"18:52","Isha":"20:22"},{"Fajr":"04:11","Dhuhr":"12:20","Asr":"16:20","Maghrib":"18:49","Isha":"20:19"}],[{"Fajr":"04:15","Dhuhr":"12:20","Asr":"16:18","Maghrib":"18:44","Isha":"20:14"},{"Fajr":"04:20","Dhuhr":"12:19","Asr":"16:15","Maghrib":"18:37","Isha":"20:07"},{"Fajr":"04:24","Dhuhr":"12:17","Asr":"16:10","Maghrib":"18:29","Isha":"19:59"}],[{"Fajr":"04:28","Dhuhr":"12:14","Asr":"16:05","Maghrib":"18:18","Isha":"19:48"},{"Fajr":"04:32","Dhuhr":"12:10","Asr":"16:00","Maghrib":"18:08","Isha":"19:38"},{"Fajr":"04:36","Dhuhr":"12:06","Asr":"15:54","Maghrib":"17:57","Isha":"19:27"}],[{"Fajr":"04:40","Dhuhr":"12:03","Asr":"15:49","Maghrib":"17:46","Isha":"19:16"},{"Fajr":"04:45","Dhuhr":"12:00","Asr":"15:41","Maghrib":"17:36","Isha":"19:06"},{"Fajr":"04:51","Dhuhr":"11:58","Asr":"15:38","Maghrib":"17:26","Isha":"18:56"}],[{"Fajr":"04:57","Dhuhr":"11:58","Asr":"15:36","Maghrib":"17:18","Isha":"18:48"},{"Fajr":"05:03","Dhuhr":"11:59","Asr":"15:33","Maghrib":"17:13","Isha":"18:43"},{"Fajr":"05:12","Dhuhr":"12:02","Asr":"15:34","Maghrib":"17:10","Isha":"18:40"}],[{"Fajr":"05:18","Dhuhr":"12:06","Asr":"15:37","Maghrib":"17:10","Isha":"18:40"},{"Fajr":"05:24","Dhuhr":"12:11","Asr":"15:40","Maghrib":"17:14","Isha":"18:44"},{"Fajr":"05:29","Dhuhr":"12:17","Asr":"15:46","Maghrib":"17:20","Isha":"18:50"}]]'),E={class:"q-mx-md q-mb-lg"},Z={class:"row items-center justify-between q-mt-md"},L=(0,l._)("div",{class:"text-subtitle2"},"Simple Prayer Time",-1),J=(0,l._)("div",null,[(0,l.Uk)("Based on Chinese Muslim Association (CMA) Calculation"),(0,l._)("br"),(0,l._)("a",{class:"text-white",href:"https://thpc.taiwantrade.com/Taiwan_mosque#a2"},"Source")],-1),Q=(0,l._)("div",{class:"text-h5 q-mt-md"}," Settings ",-1),Y=(0,l._)("label",null,"Location",-1),B={key:0},K={class:"q-mb-sm"},G=(0,l._)("label",null,"Main Clock Font Size (vh)",-1),X={class:"q-mb-sm"},ee=(0,l._)("label",null,"Prayer Time Font Size (vh)",-1),ae={class:"q-mb-sm"},te=(0,l._)("label",null,"Prayer Name Font Size (vh)",-1),le=(0,l._)("label",null,"Date Adjustment (Days)",-1),re={class:"row items-center q-gutter-sm"},ie={class:"row items-center q-gutter-sm"},oe=(0,l._)("div",{class:"text-h5 q-mt-lg"}," Export ",-1),se={key:1},ne=(0,l._)("div",{class:"text-subtitle1 q-mt-md"},"Contact Us",-1),ue=(0,l.Uk)("@ncu.muslimclub"),ce=(0,l.Uk)("ncumuslimclub@gmail.com");function me(e,a,t,i,o,s){const n=(0,l.up)("q-btn"),u=(0,l.up)("q-select"),c=(0,l.up)("q-expansion-item"),m=(0,l.up)("q-input"),d=(0,l.up)("q-checkbox"),h=(0,l.up)("q-img"),g=(0,l.up)("q-icon"),p=(0,l.up)("q-drawer");return(0,l.wg)(),(0,l.j4)(p,{modelValue:e.isOpen,"onUpdate:modelValue":a[14]||(a[14]=a=>e.isOpen=a),side:"right",overlay:"",class:"bg-secondary text-white"},{default:(0,l.w5)((()=>[(0,l._)("div",E,[(0,l._)("div",Z,[L,(0,l.Wm)(n,{flat:"",round:"",icon:"close",color:"white",onClick:e.closeDrawer,class:"q-ml-auto"},null,8,["onClick"])]),J,Q,(0,l.Wm)(c,{modelValue:e.expandedSections.location,"onUpdate:modelValue":a[1]||(a[1]=a=>e.expandedSections.location=a),class:"text-white","header-class":"text-h5",label:"Location","default-opened":""},{default:(0,l.w5)((()=>[Y,(0,l.Wm)(u,{dense:"",filled:"","bg-color":"white","emit-value":"","map-options":"",modelValue:e.localOffset,"onUpdate:modelValue":[a[0]||(a[0]=a=>e.localOffset=a),e.updateOffset],"label-color":"white",options:e.locationList},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1},8,["modelValue"]),e.$q.platform.is.desktop?((0,l.wg)(),(0,l.iD)("div",B,[(0,l.Wm)(c,{modelValue:e.expandedSections.font_setting,"onUpdate:modelValue":a[5]||(a[5]=a=>e.expandedSections.font_setting=a),class:"text-white","header-class":"text-h5",label:"Font Size Setting","default-opened":""},{default:(0,l.w5)((()=>[(0,l._)("div",K,[G,(0,l.Wm)(m,{dense:"",filled:"","bg-color":"white",modelValue:e.localMainClockSize,"onUpdate:modelValue":a[2]||(a[2]=a=>e.localMainClockSize=a),modelModifiers:{number:!0},"label-color":"white",type:"number",hint:"Main clock font size in vh"},null,8,["modelValue"])]),(0,l._)("div",X,[ee,(0,l.Wm)(m,{dense:"",filled:"","bg-color":"white",modelValue:e.localPrayerTimeFontSize,"onUpdate:modelValue":a[3]||(a[3]=a=>e.localPrayerTimeFontSize=a),modelModifiers:{number:!0},"label-color":"white",type:"number",hint:"Prayer time font size in vh"},null,8,["modelValue"])]),(0,l._)("div",ae,[te,(0,l.Wm)(m,{dense:"",filled:"","bg-color":"white",modelValue:e.localPrayerNameFontSize,"onUpdate:modelValue":a[4]||(a[4]=a=>e.localPrayerNameFontSize=a),modelModifiers:{number:!0},"label-color":"white",type:"number",hint:"Prayer name font size in vh"},null,8,["modelValue"])])])),_:1},8,["modelValue"]),(0,l.Wm)(c,{modelValue:e.expandedSections.hijri,"onUpdate:modelValue":a[7]||(a[7]=a=>e.expandedSections.hijri=a),class:"text-white","header-class":"text-h5",label:"Hijri Date","default-opened":""},{default:(0,l.w5)((()=>[le,(0,l.Wm)(m,{dense:"",filled:"","bg-color":"white",modelValue:e.localHijriOffset,"onUpdate:modelValue":[a[6]||(a[6]=a=>e.localHijriOffset=a),e.updateHijriOffset],modelModifiers:{number:!0},"label-color":"white",type:"number",hint:"Adjust Hijri date (+/- days)"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(n,{onClick:e.refreshHijriData,color:"white","text-color":"secondary",icon:"refresh",label:"Refresh Date Data",class:"full-width q-mt-sm"},null,8,["onClick"])])),_:1},8,["modelValue"]),(0,l.Wm)(c,{modelValue:e.expandedSections.iqamah,"onUpdate:modelValue":a[8]||(a[8]=a=>e.expandedSections.iqamah=a),class:"text-white","header-class":"text-h5",label:"Iqamah Countdown (minutes)","default-opened":""},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(["Fajr","Dhuhr","Asr","Maghrib","Isha"],(a=>(0,l._)("div",{key:a,class:"q-mb-sm"},[(0,l._)("label",null,(0,r.zw)(a),1),(0,l.Wm)(m,{dense:"",filled:"","bg-color":"white","label-color":"white",type:"number",min:"0",max:"60",modelValue:e.localIqamahConfig[a],"onUpdate:modelValue":[t=>e.localIqamahConfig[a]=t,e.updateIqamahConfig],modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]))),64))])),_:1},8,["modelValue"]),(0,l.Wm)(c,{modelValue:e.expandedSections.messages,"onUpdate:modelValue":a[9]||(a[9]=a=>e.expandedSections.messages=a),class:"text-white","header-class":"text-h5",label:"Reminder Messages (Minutes)","default-opened":""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.localMessages,((a,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"q-mb-sm"},[(0,l._)("div",re,[(0,l.Wm)(m,{dense:"",filled:"","bg-color":"white","label-color":"white",class:"col",modelValue:a.text,"onUpdate:modelValue":[e=>a.text=e,e.updateMessages]},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(m,{dense:"",filled:"","bg-color":"white","label-color":"white",class:"col-3",type:"number",modelValue:a.duration,"onUpdate:modelValue":[e=>a.duration=e,e.updateMessages],modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(n,{flat:"",round:"",dense:"",icon:"delete",color:"white",onClick:a=>e.removeMessage(t)},null,8,["onClick"])])])))),128)),(0,l.Wm)(n,{flat:"",icon:"add",label:"Add Message",class:"full-width q-mt-sm",onClick:e.addMessage},null,8,["onClick"])])),_:1},8,["modelValue"]),(0,l.Wm)(c,{modelValue:e.expandedSections.images,"onUpdate:modelValue":a[11]||(a[11]=a=>e.expandedSections.images=a),class:"text-white","header-class":"text-h5",label:"Rotating Images (Minutes)","default-opened":""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{modelValue:e.localEnableScreenSaver,"onUpdate:modelValue":[a[10]||(a[10]=a=>e.localEnableScreenSaver=a),e.updateEnableScreenSaver],label:"Enable Screen Saver"},null,8,["modelValue","onUpdate:modelValue"]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.localImages,((a,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"q-mb-sm"},[(0,l._)("div",ie,[(0,l.Wm)(m,{dense:"",filled:"","bg-color":"white","label-color":"white",class:"col",modelValue:a.url,"onUpdate:modelValue":[e=>a.url=e,e.updateImages],placeholder:"Image URL or path"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(m,{dense:"",filled:"","bg-color":"white","label-color":"white",class:"col-3",type:"number",min:"1",modelValue:a.duration,"onUpdate:modelValue":[e=>a.duration=e,e.updateImages],modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(n,{flat:"",round:"",dense:"",icon:"delete",color:"white",onClick:a=>e.removeImage(t)},null,8,["onClick"])]),(0,l.Wm)(h,{src:a.url,ratio:1,class:"q-mt-xs",style:{"max-width":"200px"},onError:a=>e.handleImageError(t)},null,8,["src","onError"])])))),128)),(0,l.Wm)(n,{flat:"",icon:"add",label:"Add Image",class:"full-width q-mt-sm",onClick:e.addImage},null,8,["onClick"])])),_:1},8,["modelValue"])])):(0,l.kq)("",!0),oe,(0,l.Wm)(n,{onClick:e.exportDailyCSV,color:"white","text-color":"secondary",icon:"download",label:"Export Daily Timetable CSV",class:"full-width q-mt-sm"},null,8,["onClick"]),e.$q.platform.is.mobile?((0,l.wg)(),(0,l.iD)("div",se,[ne,(0,l._)("div",{onClick:a[12]||(a[12]=a=>e.openURL("https://www.instagram.com/ncu.muslimclub")),class:"cursor-pointer text-subtitle1"},[(0,l.Wm)(g,{name:"fa-brands fa-instagram",class:"q-mr-xs",color:"white"}),ue]),(0,l._)("div",{onClick:a[13]||(a[13]=a=>e.openURL("mailto:ncumuslimclub@gmail.com")),class:"cursor-pointer text-subtitle1"},[(0,l.Wm)(g,{name:"mail",class:"q-mr-xs",color:"white"}),ce])])):(0,l.kq)("",!0)])])),_:1},8,["modelValue"])}t(4641),t(3269);const de=(0,l.aZ)({name:"SettingsDrawer",props:{modelValue:{type:Boolean,default:!1},offset:{type:Number,default:2},hijriOffset:{type:Number,default:0},mainClockSize:{type:Number,default:15},prayerTimeFontSize:{type:Number,default:8},prayerNameFontSize:{type:Number,default:5},iqamahConfig:{type:Object,default:()=>({Fajr:10,Dhuhr:10,Asr:10,Maghrib:10,Isha:10})},messages:{type:Array,default:()=>[{text:"Please keep your phone silent during prayer!",duration:1}]},images:{type:Array,default:()=>[{url:"quotes.jpeg",duration:.5}]},enableScreenSaver:{type:Boolean,default:!1}},emits:["update:modelValue","update:offset","update:hijri-offset","update:main-clock-size","update:prayer-time-font-size","update:prayer-name-font-size","refresh-hijri-data","update:iqamah-config","update:messages","update:images","update:enableScreenSaver"],setup(e,{emit:a}){(0,l.bv)((()=>{const e=localStorage.getItem("enableScreenSaver");D.value=!!e&&JSON.parse(e)}));const t=[{label:"Taipei",value:0},{label:"Taoyuan, Yanmai",value:2},{label:"Hsinchu, Taichung, Changhua",value:3},{label:"Chiayi, Tainan, Kaoshiung, Pingtung",value:5}],r=(0,l.Fl)({get(){return e.modelValue},set(e){a("update:modelValue",e)}}),i=(0,l.Fl)({get(){return e.offset},set(e){a("update:offset",e)}}),o=(0,l.Fl)({get(){return e.hijriOffset},set(e){a("update:hijri-offset",e)}}),s=(0,l.Fl)({get(){return e.mainClockSize},set(e){localStorage.setItem("mainClockSize",e),a("update:main-clock-size",e)}}),n=(0,l.Fl)({get(){return e.prayerTimeFontSize},set(e){localStorage.setItem("prayerTimeFontSize",e),a("update:prayer-time-font-size",e)}}),u=(0,l.Fl)({get(){return e.prayerNameFontSize},set(e){localStorage.setItem("prayerNameFontSize",e),a("update:prayer-name-font-size",e)}}),c=(0,R.iH)({location:!1,hijri:!1,iqamah:!1,messages:!1,images:!1,font_setting:!1}),m=()=>{c.value.location=!1,c.value.hijri=!1,c.value.iqamah=!1,c.value.messages=!1,c.value.images=!1,c.value.font_setting=!1,a("update:modelValue",!1)},d=e=>{a("update:offset",e)},h=e=>{a("update:hijri-offset",e)},g=()=>{localStorage.removeItem("hijriDateCache"),localStorage.removeItem("hijriDateLastUpdate"),a("refresh-hijri-data")},p=e=>e<11?0:e<21?1:2,v=e=>{const[a,t]=e.split(":").map(Number);let l=60*a+t+70;l>=1440&&(l-=1440);const r=Math.floor(l/60),i=l%60;return`${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`},f=(e,a)=>{const[t,l]=e.split(":").map(Number);let r=60*t+l+parseInt(a);r>=1440&&(r-=1440),r<0&&(r+=1440);const i=Math.floor(r/60),o=r%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`},S=e=>e%4===0&&e%100!==0||e%400===0,b=(e,a)=>{const t=[31,28,31,30,31,30,31,31,30,31,30,31];return 1===e&&S(a)?29:t[e]},w=(e,a)=>{const t=e.getMonth(),l=e.getDate(),r=p(l),i=$[t]||[],o=i[r]||{},s={},n=["Fajr","Dhuhr","Asr","Maghrib","Isha"];return n.forEach((e=>{const t=o[e]||"00:00";s[e]=f(t,a)})),s},y=e=>{const a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${a}-${t}-${l}`},I=()=>{const a=(new Date).getFullYear(),t=[];t.push("DATE,FAJR,SUNRISE,DHUHR,ASR,MAGHRIB,ISHA");for(let o=0;o<12;o++){const l=b(o,a);for(let r=1;r<=l;r++){const l=new Date(a,o,r),i=w(l,e.offset),s=v(i.Fajr),n=[y(l),i.Fajr,s,i.Dhuhr,i.Asr,i.Maghrib,i.Isha].join(",");t.push(n)}}const l=t.join("\n"),r=new Blob([l],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(void 0!==i.download){const e=URL.createObjectURL(r);i.setAttribute("href",e),i.setAttribute("download",`daily_prayer_timetable_${a}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}},D=(0,R.iH)(!1);function x(){localStorage.setItem("enableScreenSaver",JSON.stringify(D.value)),a("update:enableScreenSaver",D.value)}D.value=!!e.enableScreenSaver,(0,l.YP)((()=>e.enableScreenSaver),(e=>{D.value=!!e}));const j=(0,R.iH)({...e.iqamahConfig});function M(){a("update:iqamah-config",{...j.value})}(0,l.YP)((()=>e.iqamahConfig),(e=>{j.value={...e}})),(0,l.YP)((()=>r.value),(e=>{e&&(c.value.location=!1,c.value.hijri=!1,c.value.iqamah=!1,c.value.messages=!1,c.value.images=!1,c.value.font_setting=!1)}));const k=(0,R.iH)([...e.messages]),q=()=>{k.value.push({text:"",duration:10}),_()},z=e=>{k.value.splice(e,1),0===k.value.length&&k.value.push({text:"Please keep your phone silent during prayer!",duration:10}),_()},_=()=>{a("update:messages",[...k.value])};(0,l.YP)((()=>e.messages),(e=>{k.value=[...e]}));const F=(0,R.iH)([...e.images]),C=()=>{F.value.push({url:"",duration:1}),V()},H=e=>{F.value.splice(e,1),0===F.value.length&&F.value.push({url:"quotes.jpeg",duration:.5}),V()},U=e=>{console.error(`Failed to load image at index ${e}:`,F.value[e].url)},V=()=>{a("update:images",[...F.value])};return(0,l.YP)((()=>e.images),(e=>{F.value=[...e]})),{locationList:t,isOpen:r,localOffset:i,localHijriOffset:o,localIqamahConfig:j,localEnableScreenSaver:D,localMessages:k,localImages:F,expandedSections:c,localPrayerNameFontSize:u,localPrayerTimeFontSize:n,localMainClockSize:s,closeDrawer:m,updateOffset:d,updateHijriOffset:h,refreshHijriData:g,exportDailyCSV:I,updateIqamahConfig:M,updateEnableScreenSaver:x,addMessage:q,removeMessage:z,updateMessages:_,addImage:C,removeImage:H,handleImageError:U,updateImages:V}}});var he=t(1639),ge=t(3655),pe=t(9379),ve=t(9542),fe=t(2396),Se=t(6611),be=t(1006),we=t(335),ye=t(2857),Ie=t(9984),De=t.n(Ie);const xe=(0,he.Z)(de,[["render",me]]),je=xe;De()(de,"components",{QDrawer:ge.Z,QBtn:pe.Z,QExpansionItem:ve.Z,QSelect:fe.Z,QInput:Se.Z,QCheckbox:be.Z,QImg:we.Z,QIcon:ye.Z});var Me=t(3752);const ke=(0,l.aZ)({name:"IndexPage",components:{SettingsDrawer:je},props:["offset"],setup(e,{emit:a}){var t,r;const i=(0,R.iH)(!1),o=(0,R.iH)(""),s=(0,R.iH)(""),n=(0,R.iH)(""),u=(0,R.iH)(""),c=(0,R.iH)(0),m=(0,R.iH)("normal"),d=(0,R.iH)(0),h=(0,R.iH)(0),g=(0,R.iH)(""),p=(0,R.iH)(localStorage.getItem("mainClockSize")||15),v=(0,R.iH)(localStorage.getItem("prayerTimeFontSize")||8),f=(0,R.iH)(localStorage.getItem("prayerNameFontSize")||5),S=(0,R.iH)(!1),b=(0,R.iH)(!1),w=(0,R.qj)({Fajr:"00:00",Sunrise:"00:00",Dhuhr:"00:00",Asr:"00:00",Maghrib:"00:00",Isha:"00:00"}),y=(0,R.iH)(["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"]),I=(0,R.iH)([{name:"prayer",label:"Prayer",field:"name",align:"left"},{name:"time",label:"Time",field:"time",align:"right"}]),D=(0,R.iH)(0),x=(0,R.iH)(0),j=(0,R.iH)(null),M=(0,R.iH)(0),k=(0,R.iH)(0),q=(0,R.iH)(0),z=(0,R.iH)(0),_=(0,R.iH)(0),F=(0,R.iH)(1),C=(0,R.iH)(0),H=(0,R.iH)(!0),U=(0,R.iH)(JSON.parse(localStorage.getItem("iqamahConfig")||'{"Fajr":10,"Dhuhr":10,"Asr":10,"Maghrib":10,"Isha":10}')),V=(0,R.iH)(!1),A=(0,R.iH)(!1),N=(0,R.iH)(JSON.parse(localStorage.getItem("messages")||'[{"text":"Please keep your phone silent during prayer!","duration":10}]')),P=(0,R.iH)(JSON.parse(localStorage.getItem("images")||'[{"url":"quotes.jpeg","duration":0.5}]')),T=(0,R.iH)((null===(t=N.value[0])||void 0===t?void 0:t.text)||""),O=(0,R.iH)((null===(r=P.value[0])||void 0===r?void 0:r.url)||""),W=(0,R.iH)(!1);let E=null,Z=null,L=0,J=0;const Q=()=>{if(0===N.value.length)return;T.value=N.value[L].text;const e=1e3*N.value[L].duration*60;E&&clearTimeout(E),E=setTimeout((()=>{L=(L+1)%N.value.length,Q()}),e)},Y=()=>{if(0===P.value.length)return;const e=W.value?3e4:1e3*P.value[J].duration*60;O.value=P.value[J].url,Z&&clearTimeout(Z),Z=setTimeout((()=>{W.value=!W.value,W.value||(J=(J+1)%P.value.length),Y()}),e)},B=(0,l.Fl)((()=>y.value.map((e=>({name:e,time:w[e]||"00:00",isUpcoming:j.value===e})))));let K=null;(0,l.bv)((()=>{const e=localStorage.getItem("enableScreenSaver");V.value=!!e&&JSON.parse(e),A.value=!0;const a=new Date;D.value=a.getHours(),x.value=a.getMinutes(),z.value=a.getMonth(),_.value=a.getDate(),F.value=G(_.value),Q(),Y(),me(),K=setInterval(me,1e3),"Notification"in window&&"granted"!==Notification.permission&&"denied"!==Notification.permission&&(H.value=!1)})),(0,l.Ah)((()=>{K&&clearInterval(K),E&&clearTimeout(E),Z&&clearTimeout(Z)}));const G=e=>e<11?0:e<21?1:2,X=()=>{var a=e.offset,t=$[z.value]||[],l=t[F.value]||{},r=["Fajr","Dhuhr","Asr","Maghrib","Isha"],i=!0,o=!1;for(var s in r){let e=r[s];var n=l[e]||"00:00",u=n.split(":"),c=parseInt(u[1]),m=parseInt(u[0]),d=60*m+c+parseInt(a);m=Math.floor(d/60),c=d-60*m,60*m+c>60*D.value+x.value&&!1===o&&(i=!1,o=!0,j.value=e,M.value=C.value+(60*m+c)-(60*D.value+x.value),q.value=Math.floor(M.value/60),k.value=M.value-60*q.value),w[e]=String(m).padStart(2,"0")+":"+String(c).padStart(2,"0")}var h=w["Fajr"],g=h.split(":"),p=parseInt(g[0]),v=parseInt(g[1]),f=60*p+v+70,S=Math.floor(f/60),y=f-60*S;if(S>=24&&(S-=24),w["Sunrise"]=String(S).padStart(2,"0")+":"+String(y).padStart(2,"0"),60*S+y>60*D.value+x.value&&!1===o&&(i=!1,o=!0,j.value="Sunrise",M.value=C.value+(60*S+y)-(60*D.value+x.value),q.value=Math.floor(M.value/60),k.value=M.value-60*q.value),i||(b.value=!1),!1===o&&i){if(!b.value){const e=new Date;e.setDate(e.getDate()+1);const t=e.getMonth(),l=G(e.getDate()),i=$[t]||[],o=i[l]||{};for(var I in r){let e=r[I];var _=o[e]||"00:00",H=_.split(":"),U=parseInt(H[1]),V=parseInt(H[0]),A=60*V+U+parseInt(a);V=Math.floor(A/60),U=A-60*V,V>=24&&(V-=24),w[e]=String(V).padStart(2,"0")+":"+String(U).padStart(2,"0")}var N=w["Fajr"],P=N.split(":"),T=parseInt(P[0]),O=parseInt(P[1]),W=60*T+O+70,R=Math.floor(W/60),E=W-60*R;R>=24&&(R-=24),w["Sunrise"]=String(R).padStart(2,"0")+":"+String(E).padStart(2,"0"),b.value=!0}let e="Fajr";n=w[e]||"00:00",u=n.split(":"),c=parseInt(u[1]),m=parseInt(u[0]),d=60*m+c+parseInt(a);m=Math.floor(d/60),c=d-60*m,C.value=1440-(60*D.value+x.value),j.value="Fajr",M.value=C.value+(60*m+c),q.value=Math.floor(M.value/60),k.value=M.value-60*q.value}},ee=()=>{if("normal"!==m.value)return;const e=new Date,a=e.getHours(),t=e.getMinutes(),l=60*a+t;for(const[r,i]of Object.entries(w))if(i&&"00:00"!==i){const[e,a]=i.split(":").map(Number),t=60*e+a;if(Math.abs(l-t)<=1)return void ae(r)}},ae=(e,a)=>{"Sunrise"!==e&&(console.log(`Setting up Iqamah countdown for ${e}`),console.log("Current iqamahConfig:",U.value),m.value="countdown",d.value=a||U.value[e]||10,h.value=0,g.value=e,console.log(`Countdown started: ${d.value}:${h.value}`))},te=e=>{m.value="in-progress",g.value=e,setTimeout((()=>{le()}),9e5)},le=()=>{m.value="normal",g.value=""},re=e=>{U.value={...e},localStorage.setItem("iqamahConfig",JSON.stringify(U.value))},ie=e=>{V.value=!!e,localStorage.setItem("enableScreenSaver",JSON.stringify(V.value))},oe=e=>{N.value=[...e],localStorage.setItem("messages",JSON.stringify(N.value)),L=0,Q()},se=e=>{P.value=[...e],localStorage.setItem("images",JSON.stringify(P.value)),J=0,Y()},ne=()=>{if("Notification"in window)if("granted"===Notification.permission)new Notification("Notification already granted");else"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){if("granted"===e)new Notification("Notification Activated!")}));else alert("This browser does not support notification")};(0,l.YP)((()=>e.offset),((e,a)=>{e!==a&&(localStorage.setItem("offset",e),X())}));const ue=()=>{try{const e=localStorage.getItem("hijriOffset");c.value=e?parseInt(e):0}catch(e){console.log("Error loading Hijri offset:",e),c.value=0}},ce=e=>{const a=new Date(622,6,16),t=e-a;let l=Math.floor(t/864e5);l+=c.value;const r=Math.floor(l/354.37)+1,i=l-354.37*(r-1);let o=Math.floor(i/29.5)+1,s=Math.floor(i%29.5)+1;o<1?o=12:o>12&&(o=1),s<1?s=30:s>30&&(s=1);const n=["Muharram","Safar","Rabi 1","Rabi 2","Jumada 1","Jumada 2","Rajab","Sha'ban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"];return`${Math.floor(s)} ${n[Math.floor(o)-1]} ${Math.floor(r)}H`},me=()=>{const e=new Date;D.value=e.getHours(),x.value=e.getMinutes();const a=String(D.value).padStart(2,"0"),t=String(x.value).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0");o.value=`${a}:${t}:${l}`;const r={year:"numeric",month:"long",day:"numeric"};n.value=e.toLocaleDateString("en-US",r),s.value=e.toLocaleDateString("en-US",{weekday:"long"}),u.value=ce(e),X(),"normal"===m.value&&ve(),fe()},de=()=>{i.value=!i.value},he=e=>{a("update:offset",e)},ge=e=>{c.value=e,localStorage.setItem("hijriOffset",e),me()},pe=()=>{localStorage.removeItem("hijriDateCache"),localStorage.removeItem("hijriDateLastUpdate"),me()},ve=()=>{if("normal"!==m.value)return void console.log("Prayer status is not normal:",m.value);const e=60*D.value+x.value;for(const a of y.value){if("Sunrise"===a)continue;const t=w[a],l=U.value[a];if(t&&"00:00"!==t){const[r,i]=t.split(":").map(Number),o=60*r+i;if(e>=o&&o+l-e>=0)return void ae(a,o+l-e)}else console.log(`${a}: Invalid time format (${t})`)}},fe=()=>{"countdown"===m.value?h.value>0?h.value--:d.value>0?(d.value--,h.value=59):te(g.value):"in-progress"===m.value&&setTimeout((()=>{le()}),9e5)};return ue(),(0,l.m0)((()=>{if(A.value)if("normal"===m.value){const e=M.value;S.value=e>15&&V.value}else S.value=!1;else S.value=!1})),{rightDrawerOpen:i,currentTime:o,currentDay:s,currentDate:n,hijriDate:u,hijriOffset:c,prayerStatus:m,currentImage:O,images:P,countdownMinutes:d,countdownSeconds:h,currentPrayerInProgress:g,currentPrayerTime:w,prayerNames:y,prayerColumns:I,currentHour:D,currentMinute:x,upcomingPrayer:j,upcomingMinutes:M,upcomingMinute:k,upcomingHour:q,month:z,date:_,dateCluster:F,extraMinutes:C,notifEnabled:H,iqamahConfig:U,enableScreenSaver:V,prayerTableData:B,mainClockSize:p,prayerTimeFontSize:v,prayerNameFontSize:f,showUpcomingCountdown:W,updateTime:me,toggleRightDrawer:de,updateOffset:he,updateHijriOffset:ge,refreshHijriData:pe,clusterSet:G,updateDailyTime:X,checkPrayerTimeMatch:ee,startCountdownToIqamah:ae,startPrayerInProgress:te,returnToNormal:le,updateIqamahConfig:re,updateEnableScreenSaver:ie,requestNotif:ne,messages:N,currentMessage:T,updateMessages:oe,updateImages:se,longBreak:S,openURL:Me.Z}}});var qe=t(9885),ze=t(627);const _e=(0,he.Z)(ke,[["render",W],["__scopeId","data-v-1be387d8"]]),Fe=_e;De()(ke,"components",{QPage:qe.Z,QImg:we.Z,QIcon:ye.Z,QPageSticky:ze.Z,QBtn:pe.Z})}}]);